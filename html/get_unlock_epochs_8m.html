<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>The Unlock Project: unlock/analysis/andres/Code/getUnlockEpochs.m File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>unlock/analysis/andres/Code/getUnlockEpochs.m File Reference</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">epoch s samples&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#adf3cc129cf0607655f1e93a497aa032e">epochDcdTgt</a> (:, <a class="el" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">window of decoded <a class="el" href="set_unlock_params_8m.html#a58ba5f150a6c4c52ad8d635390bb832d">targets</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#ac6b8da2ea4aef1a07ee0dbc2e2fd3bef">warning</a> ('MUST DOUBLE CHECK SAMPLES ALIGNED') end%Extra data left</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">window of decoded <a class="el" href="set_unlock_params_8m.html#a58ba5f150a6c4c52ad8d635390bb832d">targets</a> <br class="typebreak"/>
usefull if problems aligning <br class="typebreak"/>
data if&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a352c2eae093aad338c151100142b4e73">epochIndx</a> (<a class="el" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>)&lt; unlockInfo.main.szData(1) leftOvers.eegData</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#ac1da4ca3e270ce4495a7ce2524e895d5">function</a> [unlockEpochs, <a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a>, dcdTgt, epochDcdTgt]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a09154d585fe042820d2ef0164afc24dd">eegTime</a> = 0:1/<a class="el" href="load_unlock_file_8m.html#a7efe2ff3bede9dc256de0c6bd6e8e60c">unlockInfo.main.Fs:unlockInfo.main.len</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#aeadcdf2507ac3837657cdead6cb3043c">eegEndTri</a> = unlockData.endTrl</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a5b14e2fd579b74a504238a7ab6021d2e">eegDcdTgt</a> = unlockData.dcdTgt</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a477b062302ce7a942ba972ff32177326">fspec</a> = <a class="el" href="plot_unlock_time_spec_8m.html#af2a11229daec86d04f5547594bec667e">specData.fspec</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#abbcdbc922a69e189a70e7ab4890b9bc9">tspec</a> = <a class="el" href="plot_unlock_time_spec_8m.html#a2566531146da7fd993d479fd98a2519a">specData.tspec</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Params&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a3db3555c877762f4530b81d03e9ec5ae">Fs</a> = <a class="el" href="unlock_main_8m.html#a3db3555c877762f4530b81d03e9ec5ae">unlockInfo.main.Fs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#af1b3c4ec18e594c9ba7941a621091e67">nChs</a> = <a class="el" href="unlock_main_8m.html#af1b3c4ec18e594c9ba7941a621091e67">unlockInfo.main.nChs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#aef7ddecebe461a4a235f0e2094aa5b9f">nTrials</a> = <a class="el" href="_l_r_f_b__3_8m.html#aef7ddecebe461a4a235f0e2094aa5b9f">unlockInfo.main.nTrials</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a2a4db94513212a819b5755e607f3821a">expTgts</a> = unlockInfo.decoder.stimFreq</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a1a4de4f030f7bc04224a4b228f2931de">stimLen</a> = <a class="el" href="set_unlock_params_8m.html#a03969b9a778f50b83cfe8484b6decffc">unlockInfo.behav.stimLen</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a07096bdc3a497988854c398f12d3768a">restLen</a> = <a class="el" href="get_unlock_epochs_8m.html#a07096bdc3a497988854c398f12d3768a">unlockInfo.behav.restLen</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a58337fc4e7e8f25ed785856424871eca">trialLen</a> = (<a class="el" href="set_unlock_params_8m.html#a03969b9a778f50b83cfe8484b6decffc">stimLen</a> + <a class="el" href="get_unlock_epochs_8m.html#a07096bdc3a497988854c398f12d3768a">restLen</a>)*<a class="el" href="unlock_main_8m.html#a3db3555c877762f4530b81d03e9ec5ae">Fs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">trial length in samples <br class="typebreak"/>
<a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a> epoch&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a16f851d78b29636086a57a4f287fc2ab">trialSampLen</a> = <a class="el" href="set_unlock_params_8m.html#a827fab5dabaeb83783ce9f8e14826b6a">trialLen</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">do this here since later is it <br class="typebreak"/>
changed Extracting <a class="el" href="_l_r_f_b__3_8m.html#a00a349297fa58bc80ff5329e25dcfe28">all</a> epochs <br class="typebreak"/>
For triggered epochs if <br class="typebreak"/>
<a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a> main triggeredData&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a3b08e5bb320329abf8cc5e51fbb813d7">epochIndx</a> = (find(<a class="el" href="get_unlock_epochs_8m.html#aeadcdf2507ac3837657cdead6cb3043c">eegEndTri</a>))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#ab29c61077f7e2f4a703aab863a7dbc57">nEpochs</a> = numel(epochIndx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#ad7284af3344db13ade009e37700e69eb">eegAllEpochs</a> = nan(<a class="el" href="set_unlock_params_8m.html#a827fab5dabaeb83783ce9f8e14826b6a">trialLen</a>,<a class="el" href="unlock_main_8m.html#af1b3c4ec18e594c9ba7941a621091e67">nChs</a>,<a class="el" href="unlock_main_8m.html#ab29c61077f7e2f4a703aab863a7dbc57">nEpochs</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">for&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">leftOvers&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a46eb80e7bb589567b06ced48e3e6351e">dcdTgt</a> = <a class="el" href="plot_unlock_time_spec_8m.html#a5b14e2fd579b74a504238a7ab6021d2e">eegDcdTgt</a>(epochIndx(<a class="el" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>):end)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">else leftOvers&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a2d5ba2448a51fbfdfcaf96188381810d">eegData</a> = []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">end When not <a class="el" href="_l_r_f_b__3_8m.html#a00a349297fa58bc80ff5329e25dcfe28">all</a> trials have <br class="typebreak"/>
an end Trigger else if <br class="typebreak"/>
<a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a> epoch <a class="el" href="set_unlock_params_8m.html#ad38d414645f076cd7fd1976463c6dbaa">fromEnd</a> Start <br class="typebreak"/>
getting epochs from last <br class="typebreak"/>
trigger Number epochs&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#a68f43306563d1931b1430d4148acc4f6">indx</a> = find(<a class="el" href="get_unlock_epochs_8m.html#aeadcdf2507ac3837657cdead6cb3043c">eegEndTri</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">samples where trial labeled as <br class="typebreak"/>
ended&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="get_unlock_epochs_8m.html#aca209feb50900d8f398e253c8b3a8c34">iEpoch</a> = 0</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="adf3cc129cf0607655f1e93a497aa032e"></a><!-- doxytag: member="getUnlockEpochs.m::epochDcdTgt" ref="adf3cc129cf0607655f1e93a497aa032e" args="(:, iIndx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epoch s samples epochDcdTgt </td>
          <td>(</td>
          <td class="paramtype">:&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a352c2eae093aad338c151100142b4e73"></a><!-- doxytag: member="getUnlockEpochs.m::epochIndx" ref="a352c2eae093aad338c151100142b4e73" args="(iIndx)&lt; unlockInfo.main.szData(1) leftOvers.eegData" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">window of decoded <a class="el" href="set_unlock_params_8m.html#a58ba5f150a6c4c52ad8d635390bb832d">targets</a> usefull if problems aligning data if epochIndx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac6b8da2ea4aef1a07ee0dbc2e2fd3bef"></a><!-- doxytag: member="getUnlockEpochs.m::warning" ref="ac6b8da2ea4aef1a07ee0dbc2e2fd3bef" args="('MUST DOUBLE CHECK SAMPLES ALIGNED') end%Extra data left" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">window of decoded <a class="el" href="set_unlock_params_8m.html#a58ba5f150a6c4c52ad8d635390bb832d">targets</a> warning </td>
          <td>(</td>
          <td class="paramtype">'MUST DOUBLE CHECK SAMPLES ALIGNED'&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a46eb80e7bb589567b06ced48e3e6351e"></a><!-- doxytag: member="getUnlockEpochs.m::dcdTgt" ref="a46eb80e7bb589567b06ced48e3e6351e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">leftOvers dcdTgt = <a class="el" href="plot_unlock_time_spec_8m.html#a5b14e2fd579b74a504238a7ab6021d2e">eegDcdTgt</a>(epochIndx(<a class="el" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>):end)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad7284af3344db13ade009e37700e69eb"></a><!-- doxytag: member="getUnlockEpochs.m::eegAllEpochs" ref="ad7284af3344db13ade009e37700e69eb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="get_unlock_epochs_8m.html#ad7284af3344db13ade009e37700e69eb">eegAllEpochs</a> = nan(<a class="el" href="set_unlock_params_8m.html#a827fab5dabaeb83783ce9f8e14826b6a">trialLen</a>,<a class="el" href="unlock_main_8m.html#af1b3c4ec18e594c9ba7941a621091e67">nChs</a>,<a class="el" href="unlock_main_8m.html#ab29c61077f7e2f4a703aab863a7dbc57">nEpochs</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d5ba2448a51fbfdfcaf96188381810d"></a><!-- doxytag: member="getUnlockEpochs.m::eegData" ref="a2d5ba2448a51fbfdfcaf96188381810d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end Epoch s Spectrograms if <a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a> epoch doSpecgram eegData = []</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5b14e2fd579b74a504238a7ab6021d2e"></a><!-- doxytag: member="getUnlockEpochs.m::eegDcdTgt" ref="a5b14e2fd579b74a504238a7ab6021d2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="plot_unlock_time_spec_8m.html#a5b14e2fd579b74a504238a7ab6021d2e">eegDcdTgt</a> = unlockData.dcdTgt</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aeadcdf2507ac3837657cdead6cb3043c"></a><!-- doxytag: member="getUnlockEpochs.m::eegEndTri" ref="aeadcdf2507ac3837657cdead6cb3043c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="get_unlock_epochs_8m.html#aeadcdf2507ac3837657cdead6cb3043c">eegEndTri</a> = unlockData.endTrl</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a09154d585fe042820d2ef0164afc24dd"></a><!-- doxytag: member="getUnlockEpochs.m::eegTime" ref="a09154d585fe042820d2ef0164afc24dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="plot_unlock_time_spec_8m.html#a09154d585fe042820d2ef0164afc24dd">eegTime</a> = 0:1/<a class="el" href="load_unlock_file_8m.html#a7efe2ff3bede9dc256de0c6bd6e8e60c">unlockInfo.main.Fs:unlockInfo.main.len</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b08e5bb320329abf8cc5e51fbb813d7"></a><!-- doxytag: member="getUnlockEpochs.m::epochIndx" ref="a3b08e5bb320329abf8cc5e51fbb813d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">do this here since later is it changed Extracting <a class="el" href="_l_r_f_b__3_8m.html#a00a349297fa58bc80ff5329e25dcfe28">all</a> epochs For triggered epochs if <a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a> main triggeredData epochIndx = (find(<a class="el" href="get_unlock_epochs_8m.html#aeadcdf2507ac3837657cdead6cb3043c">eegEndTri</a>))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2a4db94513212a819b5755e607f3821a"></a><!-- doxytag: member="getUnlockEpochs.m::expTgts" ref="a2a4db94513212a819b5755e607f3821a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="get_unlock_epochs_8m.html#a2a4db94513212a819b5755e607f3821a">expTgts</a> = unlockInfo.decoder.stimFreq</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3db3555c877762f4530b81d03e9ec5ae"></a><!-- doxytag: member="getUnlockEpochs.m::Fs" ref="a3db3555c877762f4530b81d03e9ec5ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end end Raw time Spectrogram if <a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a> main doSpecgram Set default <a class="el" href="unlock_main_8m.html#ab6db33775fcf18d8288e5a1b8bf0d286">spectrogram</a> <a class="el" href="unlock_main_8m.html#a94782b578b65deb5cac43df33da52ee6">params</a> <a class="el" href="unlock_main_8m.html#a1676408e1f7d0c520ca179b5e14f3bb7">SpecInfo</a> <a class="el" href="unlock_main_8m.html#a3db3555c877762f4530b81d03e9ec5ae">Fs</a> = <a class="el" href="unlock_main_8m.html#a3db3555c877762f4530b81d03e9ec5ae">unlockInfo.main.Fs</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a477b062302ce7a942ba972ff32177326"></a><!-- doxytag: member="getUnlockEpochs.m::fspec" ref="a477b062302ce7a942ba972ff32177326" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end Spec analysis transformation factors <a class="el" href="unlock_main_8m.html#acbdc0a564e3b302cc5274f67ea1444a2">SpectInfo</a> <a class="el" href="plot_unlock_time_spec_8m.html#af2a11229daec86d04f5547594bec667e">fspec</a> = <a class="el" href="plot_unlock_time_spec_8m.html#af2a11229daec86d04f5547594bec667e">specData.fspec</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1da4ca3e270ce4495a7ce2524e895d5"></a><!-- doxytag: member="getUnlockEpochs.m::function" ref="ac1da4ca3e270ce4495a7ce2524e895d5" args="[unlockEpochs, unlockInfo, dcdTgt, epochDcdTgt]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_calibrate___l_r_f_b_8m.html#a2420833d971716e9bab41cc9fb3abba1">function</a>[unlockEpochs, <a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a>, dcdTgt, epochDcdTgt]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> getUnlockEpochs(unlockData,<a class="code" href="set_unlock_params_8m.html#aae99b2a4b296e233ad50976ad83a3d8d">unlockInfo</a>)
%
% Gets epochs <span class="keywordflow">for</span> <a class="code" href="namespaceunlock_1_1unlock__runtime.html#aa4280cf4a38193f6519c377ea0f8e6fe">unlock</a> based <a class="code" href="_calibrate___l_r_f_b_8m.html#a58ab1fd68e97078232808206b850161b">on</a> end of <a class="code" href="plot_unlock_time_spec_8m.html#acc71b79d906a5f3b981855aa37ee8533">trial</a> <a class="code" href="load_unlock_file_8m.html#a8b867dd25da6c3cc4361f7758dd299fa">flags</a> located in
% unlockData.endTrial <a class="code" href="photodiode_main_8m.html#a54cf1fdf84a31455d2d94da6135c1f8a">vector</a>.
%
%
%
%
%
% Andres v1. 18 Dec 2013 

% Data
<a class="code" href="get_unlock_epochs_8m.html#a2d5ba2448a51fbfdfcaf96188381810d">eegData</a>     = unlockData.data
</pre></div>
</div>
</div>
<a class="anchor" id="aca209feb50900d8f398e253c8b3a8c34"></a><!-- doxytag: member="getUnlockEpochs.m::iEpoch" ref="aca209feb50900d8f398e253c8b3a8c34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">samples where trial labeled as ended <a class="el" href="plot_dcd_trig_samp_8m.html#af06868795ffba449c000a32c7d58fe2a">iEpoch</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a938f2241cffba19d9f10f206f9af7dee"></a><!-- doxytag: member="getUnlockEpochs.m::iIndx" ref="a938f2241cffba19d9f10f206f9af7dee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">for <a class="el" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> 1:<a class="code" href="get_unlock_epochs_8m.html#ab29c61077f7e2f4a703aab863a7dbc57">nEpochs</a>    % moving from the end to the beginning (MUST DOUBLE CHECK SAMPLES ALIGNED)
        <a class="code" href="get_unlock_epochs_8m.html#ad7284af3344db13ade009e37700e69eb">eegAllEpochs</a>(:,:,<a class="code" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>)     = <a class="code" href="get_unlock_epochs_8m.html#a2d5ba2448a51fbfdfcaf96188381810d">eegData</a>(<a class="code" href="get_unlock_epochs_8m.html#a3b08e5bb320329abf8cc5e51fbb813d7">epochIndx</a>(<a class="code" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>) - <a class="code" href="get_unlock_epochs_8m.html#a58337fc4e7e8f25ed785856424871eca">trialLen</a> + 1:<a class="code" href="get_unlock_epochs_8m.html#a3b08e5bb320329abf8cc5e51fbb813d7">epochIndx</a>(<a class="code" href="get_unlock_epochs_8m.html#a938f2241cffba19d9f10f206f9af7dee">iIndx</a>),:)
</pre></div>
</div>
</div>
<a class="anchor" id="a68f43306563d1931b1430d4148acc4f6"></a><!-- doxytag: member="getUnlockEpochs.m::indx" ref="a68f43306563d1931b1430d4148acc4f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end When not <a class="el" href="_l_r_f_b__3_8m.html#a00a349297fa58bc80ff5329e25dcfe28">all</a> trials have an end Trigger else if <a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a> epoch <a class="el" href="set_unlock_params_8m.html#ad38d414645f076cd7fd1976463c6dbaa">fromEnd</a> Start getting epochs from last trigger Number epochs <a class="el" href="get_unlock_epochs_8m.html#a68f43306563d1931b1430d4148acc4f6">indx</a> = find(<a class="el" href="get_unlock_epochs_8m.html#aeadcdf2507ac3837657cdead6cb3043c">eegEndTri</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af1b3c4ec18e594c9ba7941a621091e67"></a><!-- doxytag: member="getUnlockEpochs.m::nChs" ref="af1b3c4ec18e594c9ba7941a621091e67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unlock_main_8m.html#a1676408e1f7d0c520ca179b5e14f3bb7">SpecInfo</a> <a class="el" href="unlock_main_8m.html#af1b3c4ec18e594c9ba7941a621091e67">nChs</a> = <a class="el" href="unlock_main_8m.html#af1b3c4ec18e594c9ba7941a621091e67">unlockInfo.main.nChs</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab29c61077f7e2f4a703aab863a7dbc57"></a><!-- doxytag: member="getUnlockEpochs.m::nEpochs" ref="ab29c61077f7e2f4a703aab863a7dbc57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="unlock_main_8m.html#a1676408e1f7d0c520ca179b5e14f3bb7">SpecInfo</a> <a class="el" href="unlock_main_8m.html#ab29c61077f7e2f4a703aab863a7dbc57">nEpochs</a> = numel(epochIndx)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aef7ddecebe461a4a235f0e2094aa5b9f"></a><!-- doxytag: member="getUnlockEpochs.m::nTrials" ref="aef7ddecebe461a4a235f0e2094aa5b9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_l_r_f_b__3_8m.html#aef7ddecebe461a4a235f0e2094aa5b9f">nTrials</a> = <a class="el" href="_l_r_f_b__3_8m.html#aef7ddecebe461a4a235f0e2094aa5b9f">unlockInfo.main.nTrials</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a07096bdc3a497988854c398f12d3768a"></a><!-- doxytag: member="getUnlockEpochs.m::restLen" ref="a07096bdc3a497988854c398f12d3768a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="get_unlock_epochs_8m.html#a07096bdc3a497988854c398f12d3768a">restLen</a> = <a class="el" href="get_unlock_epochs_8m.html#a07096bdc3a497988854c398f12d3768a">unlockInfo.behav.restLen</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a4de4f030f7bc04224a4b228f2931de"></a><!-- doxytag: member="getUnlockEpochs.m::stimLen" ref="a1a4de4f030f7bc04224a4b228f2931de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="set_unlock_params_8m.html#a03969b9a778f50b83cfe8484b6decffc">stimLen</a> = <a class="el" href="set_unlock_params_8m.html#a03969b9a778f50b83cfe8484b6decffc">unlockInfo.behav.stimLen</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a58337fc4e7e8f25ed785856424871eca"></a><!-- doxytag: member="getUnlockEpochs.m::trialLen" ref="a58337fc4e7e8f25ed785856424871eca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="set_unlock_params_8m.html#a827fab5dabaeb83783ce9f8e14826b6a">trialLen</a> = (<a class="el" href="set_unlock_params_8m.html#a03969b9a778f50b83cfe8484b6decffc">stimLen</a> + <a class="el" href="get_unlock_epochs_8m.html#a07096bdc3a497988854c398f12d3768a">restLen</a>)*<a class="el" href="unlock_main_8m.html#a3db3555c877762f4530b81d03e9ec5ae">Fs</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a16f851d78b29636086a57a4f287fc2ab"></a><!-- doxytag: member="getUnlockEpochs.m::trialSampLen" ref="a16f851d78b29636086a57a4f287fc2ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">trial length in samples <a class="el" href="unlock_main_8m.html#a69fb625d9c5e1993dac0e560a025f0f5">unlockInfo</a> epoch <a class="el" href="trim_epochs_8m.html#a5358683b09b15fd79e7cc204b090987b">trialSampLen</a> = <a class="el" href="set_unlock_params_8m.html#a827fab5dabaeb83783ce9f8e14826b6a">trialLen</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abbcdbc922a69e189a70e7ab4890b9bc9"></a><!-- doxytag: member="getUnlockEpochs.m::tspec" ref="abbcdbc922a69e189a70e7ab4890b9bc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end Spec analysis transformation factors <a class="el" href="unlock_main_8m.html#a1676408e1f7d0c520ca179b5e14f3bb7">SpecInfo</a> <a class="el" href="plot_unlock_time_spec_8m.html#a2566531146da7fd993d479fd98a2519a">tspec</a> = <a class="el" href="plot_unlock_time_spec_8m.html#a2566531146da7fd993d479fd98a2519a">specData.tspec</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Nov 10 2014 11:09:08 for The Unlock Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
