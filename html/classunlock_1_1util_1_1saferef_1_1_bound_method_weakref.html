<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>The Unlock Project: unlock.util.saferef.BoundMethodWeakref Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespaceunlock.html">unlock</a>      </li>
      <li><a class="el" href="namespaceunlock_1_1util.html">util</a>      </li>
      <li><a class="el" href="namespaceunlock_1_1util_1_1saferef.html">saferef</a>      </li>
      <li><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html">unlock.util.saferef.BoundMethodWeakref</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<h1>unlock.util.saferef.BoundMethodWeakref Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="unlock::util::saferef::BoundMethodWeakref" --><div class="dynheader">
Inheritance diagram for unlock.util.saferef.BoundMethodWeakref:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.png" usemap="#unlock.util.saferef.BoundMethodWeakref_map" alt=""/>
  <map id="unlock.util.saferef.BoundMethodWeakref_map" name="unlock.util.saferef.BoundMethodWeakref_map">
<area href="classunlock_1_1util_1_1saferef_1_1_bound_non_descriptor_method_weakref.html" alt="unlock.util.saferef.BoundNonDescriptorMethodWeakref" shape="rect" coords="0,56,324,80"/>
</map>
</div>

<p><a href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a2e8ff80cb5de9e8d9c8dcad7c3bfdb49">__new__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a36839eb8a132234c384b28bfecbc84f0">__init__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a8900cafaf7768af09d2f0a6247ff635e">calculateKey</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#abe64e9c4d77c5f90c5c347d70301007e">__str__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ae4728da612f0dd1a23222ac00edc62c3">__bool__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ab6588b44d15dcf6351ece53f17e2a983">__cmp__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ad7baada86c514630f7bdd98162a1c3b1">__call__</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a01ddd61db58026ecb397fd07e47417fb">deletionMethods</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ac3e9c5bda49b8dc2b1f9321d047b8177">key</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a410a5ae54c7e3ad050e36b342302917d">weakSelf</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a15145abaf171543e68156aea90dfbc30">weakFunc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a722486ecc8e8456b324c6a39f1bdd4a8">selfName</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#acf77993d74ffa6a81ba9ab6291307b98">funcName</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">tuple&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ac6fcbc2605dcbafd897e6fc16ab29fd9">calculateKey</a> = classmethod( <a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ac6fcbc2605dcbafd897e6fc16ab29fd9">calculateKey</a> )</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="fragment"><pre class="fragment">'Safe' and reusable weak references to instance methods

BoundMethodWeakref objects provide a mechanism for
referencing a bound method without requiring that the
method object itself (which is normally a transient
object) is kept alive.  Instead, the BoundMethodWeakref
object keeps weak references to both the object and the
function which together define the instance method.

Attributes:
    key -- the identity key for the reference, calculated
        by the class's calculateKey method applied to the
        target instance method
    deletionMethods -- sequence of callable objects taking
        single argument, a reference to this object which
        will be called when *either* the target object or
        target function is garbage collected (i.e. when
        this object becomes invalid).  These are specified
        as the onDelete parameters of safeRef calls.
    weakSelf -- weak reference to the target object
    weakFunc -- weak reference to the target function

Class Attributes:
    _allInstances -- class attribute pointing to all live
        BoundMethodWeakref objects indexed by the class's
        calculateKey(target) method applied to the target
        objects.  This weak value dictionary is used to
        short-circuit creation so that multiple references
        to the same (object, function) pair produce the
        same BoundMethodWeakref instance.

</pre></div> <hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae4728da612f0dd1a23222ac00edc62c3"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::__bool__" ref="ae4728da612f0dd1a23222ac00edc62c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def unlock.util.saferef.BoundMethodWeakref.__bool__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Whether we are still a valid reference</pre></div> 
</div>
</div>
<a class="anchor" id="ad7baada86c514630f7bdd98162a1c3b1"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::__call__" ref="ad7baada86c514630f7bdd98162a1c3b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def unlock.util.saferef.BoundMethodWeakref.__call__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Return a strong reference to the bound method

If the target cannot be retrieved, then will
return None, otherwise returns a bound instance
method for our object and function.

Note:
    You may call this method any number of times,
    as it does not invalidate the reference.
</pre></div> 
<p>Reimplemented in <a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_non_descriptor_method_weakref.html#a560d63e43e6fa2b26eb4970227abca06">unlock.util.saferef.BoundNonDescriptorMethodWeakref</a>.</p>

</div>
</div>
<a class="anchor" id="ab6588b44d15dcf6351ece53f17e2a983"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::__cmp__" ref="ab6588b44d15dcf6351ece53f17e2a983" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def unlock.util.saferef.BoundMethodWeakref.__cmp__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>other</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Compare with another reference</pre></div> 
</div>
</div>
<a class="anchor" id="a36839eb8a132234c384b28bfecbc84f0"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::__init__" ref="a36839eb8a132234c384b28bfecbc84f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def unlock.util.saferef.BoundMethodWeakref.__init__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>onDelete</em> = <code>None</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Return a weak-reference-like instance for a bound method

target -- the instance-method target for the weak
    reference, must have im_self and im_func attributes
    and be reconstructable via:
target.im_func.__get__( target.im_self )
    which is true of built-in instance methods.
onDelete -- optional callback which will be called
    when this weak reference ceases to be valid
    (i.e. either the object or the function is garbage
    collected).  Should take a single argument,
    which will be passed a pointer to this object.
</pre></div> 
<p>Reimplemented in <a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_non_descriptor_method_weakref.html#a9caf25a859b300b0d407b7781e74b0aa">unlock.util.saferef.BoundNonDescriptorMethodWeakref</a>.</p>

</div>
</div>
<a class="anchor" id="a2e8ff80cb5de9e8d9c8dcad7c3bfdb49"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::__new__" ref="a2e8ff80cb5de9e8d9c8dcad7c3bfdb49" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def unlock.util.saferef.BoundMethodWeakref.__new__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>onDelete</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>arguments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>named</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Create new instance or return current instance

Basically this method of construction allows us to
short-circuit creation of references to already-
referenced instance methods.  The key corresponding
to the target is calculated, and if there is already
an existing reference, that is returned, with its
deletionMethods attribute updated.  Otherwise the
new instance is created and registered in the table
of already-referenced methods.
</pre></div> 
</div>
</div>
<a class="anchor" id="abe64e9c4d77c5f90c5c347d70301007e"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::__str__" ref="abe64e9c4d77c5f90c5c347d70301007e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def unlock.util.saferef.BoundMethodWeakref.__str__ </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Give a friendly representation of the object</pre></div> 
</div>
</div>
<a class="anchor" id="a8900cafaf7768af09d2f0a6247ff635e"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::calculateKey" ref="a8900cafaf7768af09d2f0a6247ff635e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ac6fcbc2605dcbafd897e6fc16ab29fd9">unlock.util.saferef.BoundMethodWeakref.calculateKey</a> </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>target</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">Calculate the reference key for this reference

Currently this is a two-tuple of the id()'s of the
target object and the target function respectively.
</pre></div> 
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ac6fcbc2605dcbafd897e6fc16ab29fd9"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::calculateKey" ref="ac6fcbc2605dcbafd897e6fc16ab29fd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple <a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ac6fcbc2605dcbafd897e6fc16ab29fd9">unlock.util.saferef.BoundMethodWeakref.calculateKey</a> = classmethod( <a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ac6fcbc2605dcbafd897e6fc16ab29fd9">calculateKey</a> )<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a01ddd61db58026ecb397fd07e47417fb"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::deletionMethods" ref="a01ddd61db58026ecb397fd07e47417fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a01ddd61db58026ecb397fd07e47417fb">unlock.util.saferef.BoundMethodWeakref.deletionMethods</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acf77993d74ffa6a81ba9ab6291307b98"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::funcName" ref="acf77993d74ffa6a81ba9ab6291307b98" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#acf77993d74ffa6a81ba9ab6291307b98">unlock.util.saferef.BoundMethodWeakref.funcName</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac3e9c5bda49b8dc2b1f9321d047b8177"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::key" ref="ac3e9c5bda49b8dc2b1f9321d047b8177" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#ac3e9c5bda49b8dc2b1f9321d047b8177">unlock.util.saferef.BoundMethodWeakref.key</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a722486ecc8e8456b324c6a39f1bdd4a8"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::selfName" ref="a722486ecc8e8456b324c6a39f1bdd4a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a722486ecc8e8456b324c6a39f1bdd4a8">unlock.util.saferef.BoundMethodWeakref.selfName</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a15145abaf171543e68156aea90dfbc30"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::weakFunc" ref="a15145abaf171543e68156aea90dfbc30" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a15145abaf171543e68156aea90dfbc30">unlock.util.saferef.BoundMethodWeakref.weakFunc</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a410a5ae54c7e3ad050e36b342302917d"></a><!-- doxytag: member="unlock::util::saferef::BoundMethodWeakref::weakSelf" ref="a410a5ae54c7e3ad050e36b342302917d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunlock_1_1util_1_1saferef_1_1_bound_method_weakref.html#a410a5ae54c7e3ad050e36b342302917d">unlock.util.saferef.BoundMethodWeakref.weakSelf</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>unlock/util/<a class="el" href="saferef_8py.html">saferef.py</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Nov 10 2014 11:09:16 for The Unlock Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
